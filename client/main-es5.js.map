{"version":3,"sources":["webpack:///src/environments/environment.ts","webpack:///src/app/routing/auth.guard.ts","webpack:///src/app/components/editor/editor-home/editor-home.component.ts","webpack:///src/app/components/editor/editor-home/editor-home.component.html","webpack:///src/app/routing/app-routing.module.ts","webpack:///src/app/components/app/app.component.ts","webpack:///src/app/components/app/app.component.html","webpack:///src/app/components/editor/story-editor/story-editor.component.ts","webpack:///src/app/components/editor/story-editor/story-editor.component.html","webpack:///src/app/services/api/api.service.js","webpack:///src/app/app.module.ts","webpack:///src/app/services/api/api.service.ts","webpack:///src/app/services/editor/model.service.ts","webpack:///src/app/components/auth/auth.component.ts","webpack:///src/app/components/auth/auth.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["environment","production","server","assets","root","api","AuthGuard","auth","router","next","state","getUser$","pipe","user","loggedIn","console","log","navigate","EditorHomeComponent","apiService","selector","templateUrl","styleUrls","routes","path","component","canActivate","AppRoutingModule","forRoot","imports","exports","AppComponent","title","login$","subscribe","StoryEditorComponent","storyService","getStory$","ApiService","http","test","connected","isAuthenticated","locale","verbose","token","headers","user$","dev","email","password","_request$","login","data","_a","action","blob","isAuthenticated$","req","url","endpoint","method","JSON","stringify","get","params","responseType","post","err","status","response","access_token","set","ɵfac","ApiService_Factory","t","ɵprov","factory","providedIn","type","args","AppModule","declarations","providers","bootstrap","StoryService","id","request$","story","getStory","AuthComponent","authService","retry","submit","bootstrapModule","error","webpackEmptyAsyncContext","Promise","resolve","then","e","Error","code","keys","module"],"mappings":"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","file":"main-es5.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  server: {\n    assets: {\n      root: \"localhost:3000/public/client/\"\n    },\n    api: {\n      root: \"localhost:3000/api/0.1\"\n    }\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\nimport 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\n\nimport { ApiService } from '../services/api/api.service'\nimport { Observable } from 'rxjs';\nimport { tap, map, take } from 'rxjs/operators';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private auth: ApiService, private router: Router) {}\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n\n      return this.auth.getUser$().pipe(\n           take(1),\n           map(user => !!user), // <-- map to boolean\n           tap(loggedIn => {\n             if (!loggedIn) {\n               console.log('access denied')\n               this.router.navigate(['/login']);\n             }\n         })\n    )\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { Project, User } from 'src/app/model/model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'matsukaze-editor-home',\n  templateUrl: './editor-home.component.html',\n  styleUrls: ['./editor-home.component.scss']\n})\nexport class EditorHomeComponent implements OnInit {\n\n  user: Observable<User>;\n  projects: Observable<Project[]>;\n\n  constructor(private apiService: ApiService) { }\n\n  ngOnInit(): void {\n\n  }\n\n}\n","<div class=\"top\">\n  <div class=\"workspace\">\n\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from '../routing/auth.guard';\nimport { EditorHomeComponent } from '../components/editor/editor-home/editor-home.component';\nimport { AppComponent } from '../components/app/app.component';\n\nconst routes: Routes = [\n  { path: '', component: EditorHomeComponent },\n  { path: 'editor', component: EditorHomeComponent,  canActivate: [AuthGuard] },\n  { path: '**', component: AppComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport { ApiService } from 'src/app/services/api/api.service'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent {\n  title = 'matsukaze';\n\n  constructor(public auth: ApiService) { }\n\n  ngOnInit(): void {\n    this.auth.login$(\"konstantinos.dimitriou@aethon.sg\", \"test\").subscribe();   // tmp autologin\n  }\n\n\n\n}\n","<div *ngIf=\"auth.isAuthenticated$() | async; then authenticated else login\"></div>\n\n\n<ng-template #authenticated>\n  <nav class=\"navbar fixed-top navbar-expand-md navbar-dark\">\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <a class=\"navbar-brand\"><img src=\"/client/assets/img/aethon-glyph.png\" style=\"max-height: 25px;\"/></a>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav ml-auto\">\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#\">Read</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#\">Create</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#\">Home</a></li>\n      </ul>\n    </div>\n  </nav>\n  <matsukaze-story-editor></matsukaze-story-editor>\n</ng-template>\n\n<ng-template #login>\n  <matsukaze-auth></matsukaze-auth>\n</ng-template>\n","import { Component, OnInit } from '@angular/core';\nimport { StoryService } from 'src/app/services/editor/model.service';\nimport { Observable } from 'rxjs';\nimport { Story } from 'src/app/model/model';\n\n@Component({\n  selector: 'matsukaze-story-editor',\n  templateUrl: './story-editor.component.html',\n  styleUrls: ['./story-editor.component.scss']\n})\nexport class StoryEditorComponent implements OnInit {\n\n  story: Observable<Story>\n\n  constructor(private storyService: StoryService) {\n\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  get(): any {\n    return this.storyService.getStory$(1)\n  }\n\n}\n","<div class=\"top\">\n  <div class=\"workspace\">\n    <p>story-editor works!</p>\n    <div *ngIf=\"get() | async\">Wahaha</div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { of } from 'rxjs';\nimport { catchError, map, flatMap } from 'rxjs/operators';\nimport { HttpHeaders } from '@angular/common/http';\nimport * as api from '../api.spec.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ApiService {\n    constructor(http) {\n        this.http = http;\n        this.test = true;\n        this.connected = true;\n        this.isAuthenticated = false;\n        this.locale = \"en\";\n        this.root = null;\n        this.verbose = true;\n        this.token = null;\n        this.headers = null;\n        this.user$ = null;\n        if (this.test)\n            this.root = api.root.dev;\n        else\n            this.root = api.root.test;\n    }\n    login$(email, password) {\n        return this._request$(api.actions.auth.login, { email: email, password: password }).pipe(map(data => {\n            var _a;\n            if ((_a = data) === null || _a === void 0 ? void 0 : _a.user) {\n                const user = data.user;\n                this.user$ = of(user);\n                return user;\n            }\n            else\n                return null;\n        }));\n    }\n    getUser$() { return this.user$; }\n    isAuthenticated$() { console.log(this.isAuthenticated); if (this.token)\n        return of(true);\n    else\n        return of(false); }\n    request$(action, data, blob) {\n        return this.isAuthenticated$().pipe(map(isAuthenticated => { console.log(isAuthenticated); if (isAuthenticated)\n            return this._request$(action, data, blob);\n        else\n            return of(null); }), flatMap(req => { return req; }));\n    }\n    _request$(action, data, blob) {\n        var req;\n        const url = this.root + action.endpoint;\n        if (this.verbose) {\n            console.log(\"*** HTTP request starting\" +\n                \"\\nheaders:\" + this.headers +\n                \"\\ntype:\" + action.method +\n                \"\\nurl:\" + url +\n                \"\\nData:\" + JSON.stringify(data) +\n                \"\\nConnection: \" + this.connected);\n        }\n        switch (action.method) {\n            case api.methods.get: {\n                if (blob)\n                    req = this.http.get(url, { params: data, headers: this.headers, responseType: 'blob' });\n                else\n                    req = this.http.get(url, { params: data, headers: this.headers });\n                break;\n            }\n            case api.methods.post: {\n                req = this.http.post(url, data);\n                break;\n            }\n        }\n        return req.pipe(catchError(err => {\n            if (this.verbose) {\n                console.log(\"*** HTTP error\" +\n                    \"\\nStatus:\" + err.status +\n                    \"\\nurl:\" + url);\n                return of(null);\n            }\n        }), map(response => {\n            var _a;\n            if (this.verbose && response) {\n                console.log(\"*** HTTP response received\" +\n                    \"\\nurl:\" + url +\n                    \"\\nResponse:\" + JSON.stringify(response));\n            }\n            if ((_a = response) === null || _a === void 0 ? void 0 : _a.access_token) {\n                this.token = response.access_token;\n                this.headers = new HttpHeaders().set('Authorization', \"Bearer \" + this.token);\n                this.isAuthenticated = true;\n            }\n            return (response);\n        }));\n    }\n}\nApiService.ɵfac = function ApiService_Factory(t) { return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient)); };\nApiService.ɵprov = i0.ɵɵdefineInjectable({ token: ApiService, factory: ApiService.ɵfac, providedIn: 'root' });\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(ApiService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: i1.HttpClient }]; }, null); })();\n//# sourceMappingURL=api.service.js.map","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n// Angular modules\nimport { AppRoutingModule } from './routing/app-routing.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\nimport { AutosizeModule } from 'ngx-autosize';\nimport { DndModule } from 'ngx-drag-drop';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\n// Matsukaze modules\nimport { AppComponent } from './components/app/app.component';\nimport { AuthComponent } from './components/auth/auth.component';\nimport { EditorHomeComponent } from './components/editor/editor-home/editor-home.component';\nimport { StoryEditorComponent } from './components/editor/story-editor/story-editor.component';\n\n// Providers\nimport { ApiService } from './services/api/api.service';\nimport { StoryService } from './services/editor/editor.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AuthComponent,\n    EditorHomeComponent,\n    StoryEditorComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    FontAwesomeModule,\n    DndModule,\n    NgSelectModule,\n    AutosizeModule\n  ],\n  providers: [\n    ApiService,\n    StoryService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { tap, catchError, map, delay, flatMap, mergeAll, switchMap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport * as api from '../api.spec.json';\nimport { User } from 'src/app/model/model.js';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  private test: boolean = true;\n  private connected: boolean = true;\n  private isAuthenticated: boolean = false;\n  private locale: string = \"en\";\n  private root: string = null;\n  private verbose: boolean = true;\n  private token: string = null;\n  private headers: HttpHeaders = null;\n  user$: Observable<User> = null;\n\n  constructor(private http: HttpClient) {\n    if(this.test) this.root = api.root.dev; else this.root = api.root.test;\n  }\n\n  login$(email: string, password: string): Observable<User> {\n    return this._request$(api.actions.auth.login, {email: email, password: password}).pipe(\n      map( data => {\n        if(data?.user) {\n          const user:User = data.user;\n          this.user$ = of(user);\n          return user;\n        }\n        else return null;\n      })\n    );\n  }\n\n  getUser$(): Observable<User> { return this.user$; }\n\n  isAuthenticated$(): Observable<boolean> { console.log(this.isAuthenticated); if(this.token) return of(true); else return of(false) }\n\n  public request$(action: any, data?: any, blob?: boolean): Observable<any> {\n    return this.isAuthenticated$().pipe(\n      map(isAuthenticated => { console.log(isAuthenticated); if(isAuthenticated) return this._request$(action, data, blob); else return of(null) }),\n      flatMap(req => {return req})\n    );\n  }\n\n  private _request$(action: any, data?: any, blob?: boolean): Observable<any> {\n    var req: Observable<any>;\n    const url = this.root + action.endpoint;\n\n    if(this.verbose) {\n      console.log(\"*** HTTP request starting\" +\n                  \"\\nheaders:\" + this.headers +\n                  \"\\ntype:\" + action.method +\n                  \"\\nurl:\" + url +\n                  \"\\nData:\" + JSON.stringify(data) +\n                  \"\\nConnection: \" + this.connected)\n    }\n    switch(action.method) {\n      case api.methods.get : {\n        if(blob) req = this.http.get(url, {params: data, headers: this.headers, responseType: 'blob'});\n        else req = this.http.get(url, {params: data, headers: this.headers});\n        break;\n      }\n      case api.methods.post : {\n        req = this.http.post(url, data);\n        break;\n      }\n    }\n\n    return req.pipe(\n      catchError(err => {\n        if(this.verbose) {\n          console.log(\"*** HTTP error\" +\n                      \"\\nStatus:\" + err.status +\n                      \"\\nurl:\" + url);\n          return of(null);\n        }\n      }),\n      map(response => {\n        if(this.verbose && response) {\n          console.log(\"*** HTTP response received\" +\n                    \"\\nurl:\" + url +\n                    \"\\nResponse:\" + JSON.stringify(response));\n        }\n        if(response?.access_token) {\n          this.token = response.access_token;\n          this.headers = new HttpHeaders().set('Authorization', \"Bearer \" + this.token);\n          this.isAuthenticated = true;\n        }\n        return(response);\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Project, Story } from 'src/app/model/model.js';\nimport { Observable, of } from 'rxjs';\nimport { ApiService } from '../api/api.service.js';\nimport * as api from '../api.spec.json';\nimport { map, flatMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StoryService {\n\n  constructor(private apiService: ApiService) { }\n\n  getProject$(): Observable<Project> {\n    return null;\n  }\n\n  getStory$(id: number): Observable<Story> {\n    return this.apiService.request$(api.actions.story.getStory, {id: id})\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'matsukaze-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent {\n  email: string = '';\n  password: string = '';\n  retry: boolean = false;\n\n  constructor(private authService: ApiService) { }\n\n  submit() {\n    this.authService.login$(this.email, this.password).pipe(\n      map(response => { if(response) this.retry = false; else this.retry = true; })\n    ).subscribe();\n  }\n\n}\n","<div class=\"auth\">\n  <form class=\"form\">\n    <h3>Login</h3>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"email\" name=\"email\" type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Your email\">\n      <!-- <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small> -->\n    </div>\n    <div class=\"form-group\">\n      <input [(ngModel)]=\"password\" type=\"password\" name=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Your password\">\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"submit()\">Submit</button>\n    <div *ngIf=\"retry\">Invalid username or password, please try again.</div>\n    <div>\n      <ul>\n        <li><a href=\"#\">Create free account</a></li>\n        <li><a href=\"#\">Forgot password</a></li>\n      </ul>\n    </div>\n    <div>\n      <img src=\"/client/assets/img/aethon-logo.jpg\"   />\n    </div>\n  </form>\n</div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}